/* components/tilt-card.module.css */

.container {
  position: relative;
  width: 100%;
  height: 100%;
  transition: 200ms;
  perspective: 800px; /* Moved perspective here for better context */
}

/* On click effect */
.container:active .card {
  transform: scale(0.95);
}

.card {
  position: absolute;
  inset: 0;
  z-index: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 0; /* Changed to 0 for rectangular images */
  transition: 700ms cubic-bezier(0.03, 0.98, 0.52, 0.99); /* Smooth ease-out */
  background: transparent; /* Removed gradient */
  overflow: hidden;
}

/* Image Swap Logic */
.primaryImg,
.secondaryImg {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: opacity 500ms ease-in-out;
  pointer-events: none; /* Let clicks pass through if needed */
}

.secondaryImg {
  opacity: 0;
  z-index: 2;
}

.primaryImg {
  opacity: 1;
  z-index: 1;
}

/* When hovering the container (which contains trackers), swap images */
.container:hover .secondaryImg {
  opacity: 1;
}

.container:hover .primaryImg {
  opacity: 0;
}

/* Canvas & Trackers */
.canvas {
  position: absolute;
  inset: 0;
  z-index: 200;
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  grid-template-rows: repeat(5, 1fr);
  width: 100%;
  height: 100%;
}

.tracker {
  position: absolute;
  z-index: 200;
  width: 100%;
  height: 100%;
  cursor: pointer;
}

/* Grid Areas */
.tr-1 { grid-area: 1 / 1 / 2 / 2; }
.tr-2 { grid-area: 1 / 2 / 2 / 3; }
.tr-3 { grid-area: 1 / 3 / 2 / 4; }
.tr-4 { grid-area: 1 / 4 / 2 / 5; }
.tr-5 { grid-area: 1 / 5 / 2 / 6; }
.tr-6 { grid-area: 2 / 1 / 3 / 2; }
.tr-7 { grid-area: 2 / 2 / 3 / 3; }
.tr-8 { grid-area: 2 / 3 / 3 / 4; }
.tr-9 { grid-area: 2 / 4 / 3 / 5; }
.tr-10 { grid-area: 2 / 5 / 3 / 6; }
.tr-11 { grid-area: 3 / 1 / 4 / 2; }
.tr-12 { grid-area: 3 / 2 / 4 / 3; }
.tr-13 { grid-area: 3 / 3 / 4 / 4; }
.tr-14 { grid-area: 3 / 4 / 4 / 5; }
.tr-15 { grid-area: 3 / 5 / 4 / 6; }
.tr-16 { grid-area: 4 / 1 / 5 / 2; }
.tr-17 { grid-area: 4 / 2 / 5 / 3; }
.tr-18 { grid-area: 4 / 3 / 5 / 4; }
.tr-19 { grid-area: 4 / 4 / 5 / 5; }
.tr-20 { grid-area: 4 / 5 / 5 / 6; }
.tr-21 { grid-area: 5 / 1 / 6 / 2; }
.tr-22 { grid-area: 5 / 2 / 6 / 3; }
.tr-23 { grid-area: 5 / 3 / 6 / 4; }
.tr-24 { grid-area: 5 / 4 / 6 / 5; }
.tr-25 { grid-area: 5 / 5 / 6 / 6; }

/* Transformations based on Hover */
.tr-1:hover ~ .card { transform: rotateX(20deg) rotateY(-10deg); }
.tr-2:hover ~ .card { transform: rotateX(20deg) rotateY(-5deg); }
.tr-3:hover ~ .card { transform: rotateX(20deg) rotateY(0deg); }
.tr-4:hover ~ .card { transform: rotateX(20deg) rotateY(5deg); }
.tr-5:hover ~ .card { transform: rotateX(20deg) rotateY(10deg); }

.tr-6:hover ~ .card { transform: rotateX(10deg) rotateY(-10deg); }
.tr-7:hover ~ .card { transform: rotateX(10deg) rotateY(-5deg); }
.tr-8:hover ~ .card { transform: rotateX(10deg) rotateY(0deg); }
.tr-9:hover ~ .card { transform: rotateX(10deg) rotateY(5deg); }
.tr-10:hover ~ .card { transform: rotateX(10deg) rotateY(10deg); }

.tr-11:hover ~ .card { transform: rotateX(0deg) rotateY(-10deg); }
.tr-12:hover ~ .card { transform: rotateX(0deg) rotateY(-5deg); }
.tr-13:hover ~ .card { transform: rotateX(0deg) rotateY(0deg); }
.tr-14:hover ~ .card { transform: rotateX(0deg) rotateY(5deg); }
.tr-15:hover ~ .card { transform: rotateX(0deg) rotateY(10deg); }

.tr-16:hover ~ .card { transform: rotateX(-10deg) rotateY(-10deg); }
.tr-17:hover ~ .card { transform: rotateX(-10deg) rotateY(-5deg); }
.tr-18:hover ~ .card { transform: rotateX(-10deg) rotateY(0deg); }
.tr-19:hover ~ .card { transform: rotateX(-10deg) rotateY(5deg); }
.tr-20:hover ~ .card { transform: rotateX(-10deg) rotateY(10deg); }

.tr-21:hover ~ .card { transform: rotateX(-20deg) rotateY(-10deg); }
.tr-22:hover ~ .card { transform: rotateX(-20deg) rotateY(-5deg); }
.tr-23:hover ~ .card { transform: rotateX(-20deg) rotateY(0deg); }
.tr-24:hover ~ .card { transform: rotateX(-20deg) rotateY(5deg); }
.tr-25:hover ~ .card { transform: rotateX(-20deg) rotateY(10deg); }

/* Brightness filter on card hover */
.tracker:hover ~ .card {
  filter: brightness(1.1);
  box-shadow: 0 20px 30px rgba(0,0,0,0.1);
}